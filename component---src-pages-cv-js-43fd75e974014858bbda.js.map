{"version":3,"file":"component---src-pages-cv-js-43fd75e974014858bbda.js","mappings":"yNAKMA,EAAYC,EAAAA,QAAAA,QAAAA,WAAc,6DAAdA,CAAc,qRA2B1BC,EAAQD,EAAAA,QAAAA,IAAAA,WAAU,yDAAVA,CAAU,mBAIlBE,EAASF,EAAAA,QAAAA,IAAAA,OAAiB,iBAAO,CACrC,cAAe,WACd,qEAFYA,CAEZ,uFAIQ,YAAQ,SAALG,MAAkBC,iBAMhCF,EAAOG,aAAe,CACpBF,MAAO,CACLG,gBAAiB,OACjBF,cAAe,SAInB,IAAMG,EAAYP,EAAAA,QAAAA,IAAAA,WAAU,6DAAVA,CAAU,0DAGD,YAAQ,SAALG,MAAkBG,mBAG1CE,GAAYR,EAAAA,EAAAA,SAAOS,EAAAA,GAAaC,OAAM,iBAAO,CACjD,cAAe,cACd,wEAFeV,CAEf,qMAyBH,SAASW,EAAaC,EAAGC,GACvB,OAAO,IAAIC,KAAKD,EAAEE,OAAS,IAAID,KAAKF,EAAEG,OAGxC,SAASC,EAAcC,GACrB,IAMIC,EAJEC,EAAUF,EAAMG,MAAQH,EAAMF,MAC9BM,GAAaJ,EAAMG,IAErBE,EAAa,KAGXC,EACJN,EAAMF,MAAMS,OAAS,EATM,CAAEC,MAAO,QAASC,KAAM,WAC7B,CAAEA,KAAM,WAiBhC,OARAJ,EAAa,IAAIR,KAAKG,EAAMF,OAAOY,eAAe,QAASJ,GAC3DD,GAAcD,GAAaF,EAAU,IAAM,GAC3CD,EAAWG,EACP,UACAF,EACA,IAAIL,KAAKG,EAAMG,KAAKO,eAAe,QAASJ,GAC5C,KAGF,gBAACtB,EAAK,CAAC2B,IAAKX,EAAMY,UAChB,gBAAC3B,EAAM,KACL,4BAAOoB,GACP,4BAAOJ,IAET,gBAACX,EAAS,KACR,gBAACC,EAAS,CAACsB,QAASb,EAAMa,YAMlC,SAASC,EAAoBd,GAC3B,OAAO,gBAACT,EAAS,CAACoB,IAAKX,EAAMY,SAAUC,QAASb,EAAMa,UAGxD,IAAME,EAAU,SAAH,GAA6C,IAAvCC,EAAO,EAAPA,QAASC,EAAO,EAAPA,QAASlB,EAAa,EAAbA,cAC7BmB,GAAO,OAAID,GAASE,KAAKzB,GAAc0B,KAAI,SAACpB,GAChD,OAAOD,EAAcC,MAGvB,OACE,gBAAClB,EAAS,CAAC6B,IAAKK,GACd,0BAAKA,GACJE,IAKDG,EAAqB,SAACC,GAC1B,OAAO,gBAACP,EAAO,iBAAKO,EAAK,CAAEvB,cAAee,MAGtCS,EAAkB,SAACD,GACvB,OAAO,gBAACP,EAAO,iBAAKO,EAAK,CAAEvB,cAAeA,M,m0BC5I5C,IAuDA,EAvDe,SAAH,GAGV,IAH4B,IAGmB,EAF3CyB,EAAQ,GACRC,EAAU,GACd,IAHoB,EAAJC,KAGQC,kBAAkBC,SAAK,aAAE,CAAC,IAAvCC,EAAI,QACTC,EAA6C,SAA/BD,EAAKE,KAAKC,YAAYC,KAAkBR,EAAUD,EAC9DR,EAAUa,EAAKE,KAAKC,YAAYhB,QAChChB,EAAK,iBACN6B,EAAKE,KAAKC,YAAY,CACzBnB,QAASgB,EAAKE,KAAKG,KACnBtB,SAAUiB,EAAKE,KAAKI,mBAEtBL,EAAYd,GAAWc,EAAYd,IAAY,GAC/Cc,EAAYd,GAAQ,kBAAOc,EAAYd,IAAQ,CAAEhB,IAGnD,IAAMoC,EAAWC,OAAOpB,QAAQO,GAAOJ,KAAI,gBAAEJ,EAAO,KAAEC,EAAO,YAC3D,gBAACM,EAAe,CAACZ,IAAKK,EAASA,QAASA,EAASC,QAASA,OAGtDqB,EAAQD,OAAOpB,QAAQQ,GAASL,KAAI,gBAAEJ,EAAO,KAAEC,EAAO,YAC1D,gBAACI,EAAkB,CAACV,IAAKK,EAASA,QAASA,EAASC,QAASA,OAG/D,OACE,gBAACsB,EAAA,EAAM,KACL,gBAACC,EAAA,EAAG,CAACC,MAAM,KAAKC,SAAU,CAAC,YAAa,QACvCN,EACAE","sources":["webpack://nilsson.dev/./src/components/cv/Section.js","webpack://nilsson.dev/./src/pages/cv.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { HTMLContent } from '../Content';\n\nconst CvSection = styled.section`\n  padding: 0.9em;\n\n  h2 {\n    text-transform: capitalize;\n    @media print {\n      font-size: 22px;\n      margin-bottom: 0.5em;\n    }\n  }\n\n  @media print {\n    padding: 0em 0.9em 1.7em 0.9em;\n    page-break-inside: avoid;\n    :last-child {\n      padding: 0em;\n    }\n    :first-child {\n      margin-top: 1em;\n    }\n  }\n\n  @media only screen and (min-width: 768px) {\n    padding: 1.5em;\n  }\n`;\n\nconst CvRow = styled.div`\n  display: flex;\n`;\n\nconst CvYear = styled.div.attrs(() => ({\n  'data-testid': 'year',\n}))`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  color: ${({ theme }) => theme.textSecondary};\n\n  @media print {\n    font-size: 15px;\n  }\n`;\nCvYear.defaultProps = {\n  theme: {\n    borderSecondary: '#000',\n    textSecondary: '#888',\n  },\n};\n\nconst BorderBox = styled.div`\n  flex: 6;\n  padding-left: 0.5em;\n  border-left: 1px solid ${({ theme }) => theme.borderSecondary};\n`;\n\nconst CvContent = styled(HTMLContent).attrs(() => ({\n  'data-testid': 'content',\n}))`\n  margin-bottom: 10px;\n  & p {\n    margin-bottom: 0px;\n  }\n  & li {\n    margin-bottom: 0px;\n  }\n\n  @media print {\n    flex: 6;\n    & p {\n      font-size: 16px;\n    }\n    & li {\n      font-size: 16px;\n    }\n    & a {\n      text-decoration: inherit;\n      color: inherit;\n      font-weight: inherit;\n    }\n  }\n`;\n\nfunction compareDates(a, b) {\n  return new Date(b.start) - new Date(a.start);\n}\n\nfunction entryRenderer(entry) {\n  const dateOptionsMonthYear = { month: 'short', year: 'numeric' };\n  const dateOptionsyear = { year: 'numeric' };\n  const isRange = entry.end !== entry.start;\n  const isCurrent = !entry.end;\n\n  let startLabel = null;\n  let endLabel = null;\n\n  const dateOptions =\n    entry.start.length > 4 ? dateOptionsMonthYear : dateOptionsyear;\n  startLabel = new Date(entry.start).toLocaleString('en-En', dateOptions);\n  startLabel += isCurrent || isRange ? 'â€“' : '';\n  endLabel = isCurrent\n    ? 'Present'\n    : isRange\n    ? new Date(entry.end).toLocaleString('en-En', dateOptions)\n    : null;\n\n  return (\n    <CvRow key={entry.filePath}>\n      <CvYear>\n        <span>{startLabel}</span>\n        <span>{endLabel}</span>\n      </CvYear>\n      <BorderBox>\n        <CvContent content={entry.content} />\n      </BorderBox>\n    </CvRow>\n  );\n}\n\nfunction simpleEntryRenderer(entry) {\n  return <CvContent key={entry.filePath} content={entry.content} />;\n}\n\nconst Section = ({ section, entries, entryRenderer }) => {\n  const rows = [...entries].sort(compareDates).map((entry) => {\n    return entryRenderer(entry);\n  });\n\n  return (\n    <CvSection key={section}>\n      <h2>{section}</h2>\n      {rows}\n    </CvSection>\n  );\n};\n\nconst SectionWithoutYear = (props) => {\n  return <Section {...props} entryRenderer={simpleEntryRenderer} />;\n};\n\nconst SectionWithYear = (props) => {\n  return <Section {...props} entryRenderer={entryRenderer} />;\n};\n\nconst entryPropTypes = {\n  filePath: PropTypes.string,\n  start: PropTypes.string,\n  end: PropTypes.string,\n  content: PropTypes.string,\n};\n\nconst sectionPropTypes = {\n  section: PropTypes.string,\n  entries: PropTypes.arrayOf(PropTypes.shape(entryPropTypes)),\n};\n\nSectionWithoutYear.propTypes = sectionPropTypes;\nSectionWithYear.propTypes = sectionPropTypes;\nSection.propTypes = {\n  ...sectionPropTypes,\n  entryRenderer: PropTypes.func,\n};\n\nexport { SectionWithYear, SectionWithoutYear };\nexport default Section;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '../components/Layout';\nimport Seo from '../components/Seo';\nimport { SectionWithoutYear, SectionWithYear } from '../components/cv/Section';\n\nconst CvPage = ({ data }) => {\n  let cvMap = {};\n  let listMap = {};\n  for (const edge of data.allMarkdownRemark.edges) {\n    let mapToUpdate = edge.node.frontmatter.type === 'list' ? listMap : cvMap;\n    const section = edge.node.frontmatter.section;\n    const entry = {\n      ...edge.node.frontmatter,\n      content: edge.node.html,\n      filePath: edge.node.fileAbsolutePath,\n    };\n    mapToUpdate[section] = mapToUpdate[section] || [];\n    mapToUpdate[section] = [...mapToUpdate[section], entry];\n  }\n\n  const sections = Object.entries(cvMap).map(([section, entries]) => (\n    <SectionWithYear key={section} section={section} entries={entries} />\n  ));\n\n  const lists = Object.entries(listMap).map(([section, entries]) => (\n    <SectionWithoutYear key={section} section={section} entries={entries} />\n  ));\n\n  return (\n    <Layout>\n      <Seo title=\"CV\" keywords={['portfolio', 'cv']} />\n      {sections}\n      {lists}\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      filter: { frontmatter: { key: { eq: \"cv\" } } }\n      sort: { fields: frontmatter___end, order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            title\n            start\n            end\n            section\n            type\n          }\n          fileAbsolutePath\n          html\n        }\n      }\n    }\n  }\n`;\n\nexport default CvPage;\n"],"names":["CvSection","styled","CvRow","CvYear","theme","textSecondary","defaultProps","borderSecondary","BorderBox","CvContent","HTMLContent","attrs","compareDates","a","b","Date","start","entryRenderer","entry","endLabel","isRange","end","isCurrent","startLabel","dateOptions","length","month","year","toLocaleString","key","filePath","content","simpleEntryRenderer","Section","section","entries","rows","sort","map","SectionWithoutYear","props","SectionWithYear","cvMap","listMap","data","allMarkdownRemark","edges","edge","mapToUpdate","node","frontmatter","type","html","fileAbsolutePath","sections","Object","lists","Layout","Seo","title","keywords"],"sourceRoot":""}