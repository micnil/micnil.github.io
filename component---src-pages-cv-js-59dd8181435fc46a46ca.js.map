{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./src/components/cv/Section.js","webpack:///./src/pages/cv.js","webpack:///./node_modules/core-js/modules/_object-to-array.js"],"names":["$export","$entries","S","entries","it","CvSection","styled","section","CvRow","div","CvYear","attrs","theme","borderSecondary","textSecondary","defaultProps","CvContent","HTMLContent","compareDates","a","b","end","start","entryRenderer","entry","endLabel","isRange","isCurrent","startLabel","dateOptions","length","month","year","Date","toLocaleString","key","filePath","content","simpleEntryRenderer","Section","rows","sort","map","SectionWithoutYear","props","SectionWithYear","query","CvPage","cvMap","listMap","data","allMarkdownRemark","edges","edge","mapToUpdate","node","frontmatter","type","html","fileAbsolutePath","sections","Object","lists","Layout","title","keywords","DESCRIPTORS","getKeys","toIObject","isEnum","f","module","exports","isEntries","O","keys","i","result","call","push"],"mappings":"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","file":"component---src-pages-cv-js-59dd8181435fc46a46ca.js","sourcesContent":["// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { HTMLContent } from '../Content';\r\n\r\nconst CvSection = styled.section`\r\n  padding: 0.9em;\r\n\r\n  h2 {\r\n    text-transform: capitalize;\r\n    @media print {\r\n      font-size: 22px;\r\n      margin-bottom: 0.5em;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    padding: 0em 0.9em 1.7em 0.9em;\r\n    page-break-inside: avoid;\r\n    :last-child {\r\n      padding: 0em;\r\n    }\r\n    :first-child {\r\n      margin-top: 1em;\r\n    }\r\n  }\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 1.5em;\r\n  }\r\n`;\r\n\r\nconst CvRow = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst CvYear = styled.div.attrs(() => ({\r\n  'data-testid': 'year',\r\n}))`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  border-right: 1px solid ${({ theme }) => theme.borderSecondary};\r\n  color: ${({ theme }) => theme.textSecondary};\r\n\r\n  @media print {\r\n    font-size: 15px;\r\n  }\r\n`;\r\nCvYear.defaultProps = {\r\n  theme: {\r\n    borderSecondary: '#000',\r\n    textSecondary: '#888',\r\n  },\r\n};\r\n\r\nconst CvContent = styled(HTMLContent).attrs(() => ({\r\n  'data-testid': 'content',\r\n}))`\r\n  flex: 5;\r\n  padding-left: 0.5em;\r\n  & p {\r\n    margin-bottom: 0px;\r\n  }\r\n  & li {\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  @media print {\r\n    flex: 6;\r\n    & p {\r\n      font-size: 16px;\r\n    }\r\n    & li {\r\n      font-size: 16px;\r\n    }\r\n    & a {\r\n      text-decoration: inherit;\r\n      color: inherit;\r\n      font-weight: inherit;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction compareDates(a, b) {\r\n  if (!a.end) {\r\n    return -1;\r\n  }\r\n  if (!b.end) {\r\n    return 1;\r\n  }\r\n  return a.end !== b.end ? b.end - a.end : b.start - a.start;\r\n}\r\n\r\nfunction entryRenderer(entry) {\r\n  const dateOptionsMonthYear = { month: 'short', year: 'numeric' };\r\n  const dateOptionsyear = { year: 'numeric' };\r\n  const isRange = entry.end !== entry.start;\r\n  const isCurrent = !entry.end;\r\n\r\n  let startLabel = null;\r\n  let endLabel = null;\r\n\r\n  const dateOptions =\r\n    entry.start.length > 4 ? dateOptionsMonthYear : dateOptionsyear;\r\n  startLabel = new Date(entry.start).toLocaleString('en-En', dateOptions);\r\n  startLabel += isCurrent || isRange ? 'â€“' : '';\r\n  endLabel = isCurrent\r\n    ? 'Present'\r\n    : isRange\r\n    ? new Date(entry.end).toLocaleString('en-En', dateOptions)\r\n    : null;\r\n\r\n  return (\r\n    <CvRow key={entry.filePath}>\r\n      <CvYear>\r\n        <span>{startLabel}</span>\r\n        <span>{endLabel}</span>\r\n      </CvYear>\r\n      <CvContent content={entry.content} />\r\n    </CvRow>\r\n  );\r\n}\r\n\r\nfunction simpleEntryRenderer(entry) {\r\n  return <CvContent key={entry.filePath} content={entry.content} />;\r\n}\r\n\r\nconst Section = ({ section, entries, entryRenderer }) => {\r\n  const rows = [...entries].sort(compareDates).map((entry) => {\r\n    return entryRenderer(entry);\r\n  });\r\n\r\n  return (\r\n    <CvSection key={section}>\r\n      <h2>{section}</h2>\r\n      {rows}\r\n    </CvSection>\r\n  );\r\n};\r\n\r\nconst SectionWithoutYear = (props) => {\r\n  return <Section {...props} entryRenderer={simpleEntryRenderer} />;\r\n};\r\n\r\nconst SectionWithYear = (props) => {\r\n  return <Section {...props} entryRenderer={entryRenderer} />;\r\n};\r\n\r\nconst entryPropTypes = {\r\n  filePath: PropTypes.string,\r\n  start: PropTypes.string,\r\n  end: PropTypes.string,\r\n  content: PropTypes.string,\r\n};\r\n\r\nconst sectionPropTypes = {\r\n  section: PropTypes.string,\r\n  entries: PropTypes.arrayOf(PropTypes.shape(entryPropTypes)),\r\n};\r\n\r\nSectionWithoutYear.propTypes = sectionPropTypes;\r\nSectionWithYear.propTypes = sectionPropTypes;\r\nSection.propTypes = {\r\n  ...sectionPropTypes,\r\n  entryRenderer: PropTypes.func,\r\n};\r\n\r\nexport { SectionWithYear, SectionWithoutYear };\r\nexport default Section;\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Layout from '../components/Layout';\r\nimport SEO from '../components/Seo';\r\nimport { SectionWithoutYear, SectionWithYear } from '../components/cv/Section';\r\n\r\nconst CvPage = ({ data }) => {\r\n  let cvMap = {};\r\n  let listMap = {};\r\n  for (const edge of data.allMarkdownRemark.edges) {\r\n    let mapToUpdate = edge.node.frontmatter.type === 'list' ? listMap : cvMap;\r\n    const section = edge.node.frontmatter.section;\r\n    const entry = {\r\n      ...edge.node.frontmatter,\r\n      content: edge.node.html,\r\n      filePath: edge.node.fileAbsolutePath,\r\n    };\r\n    mapToUpdate[section] = mapToUpdate[section] || [];\r\n    mapToUpdate[section] = [...mapToUpdate[section], entry];\r\n  }\r\n\r\n  const sections = Object.entries(cvMap).map(([section, entries]) => (\r\n    <SectionWithYear key={section} section={section} entries={entries} />\r\n  ));\r\n\r\n  const lists = Object.entries(listMap).map(([section, entries]) => (\r\n    <SectionWithoutYear key={section} section={section} entries={entries} />\r\n  ));\r\n\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"CV\" keywords={['portfolio', 'cv']} />\r\n      {sections}\r\n      {lists}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allMarkdownRemark(\r\n      filter: { frontmatter: { key: { eq: \"cv\" } } }\r\n      sort: { fields: frontmatter___end, order: DESC }\r\n    ) {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n            start\r\n            end\r\n            section\r\n            type\r\n          }\r\n          fileAbsolutePath\r\n          html\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default CvPage;\r\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n"],"sourceRoot":""}